---
title: "Building with the OpenClaw SDK: A Technical Tutorial"
description: "Learn how to register gateway instances, capture snapshots, and manage configurations using the @minions-openclaw/sdk."
date: 2026-02-21
author: "Mehdi Nabhani"
tags: ["tutorial", "typescript", "sdk"]
draft: false
---

# Getting Started with the OpenClaw SDK

In our previous post, we introduced why managing AI gateways needs better tooling. Today, we're diving into the code. The `@minions-openclaw/sdk` is a type-safe library that brings structured gateway management to your TypeScript projects.

## Installation

```bash
pnpm add @minions-openclaw/sdk
```

<Callout type="warning">
The SDK requires `minions-sdk` as a peer dependency. Make sure it's installed in your project.
</Callout>

## Registering Gateway Instances

The first step is to register your OpenClaw Gateway instances so they can be tracked and managed.

```typescript
import { createMinionsOpenClaw } from '@minions-openclaw/sdk';

const client = createMinionsOpenClaw();

// Register multiple instances
const prodGateway = await client.instances.register({
  name: 'prod-gateway',
  url: 'wss://gateway.prod.example.com',
  environment: 'production'
});

const stagingGateway = await client.instances.register({
  name: 'staging-gateway',
  url: 'wss://gateway.staging.example.com',
  environment: 'staging'
});

// List all registered instances
const instances = await client.instances.list();
console.log(`Managing ${instances.length} gateway instances`);
```

## Working with Snapshots

Snapshots are the heart of the version control system. They capture the complete configuration state of a gateway at a point in time.

```typescript
// Capture a snapshot before making changes
const beforeSnapshot = await client.snapshots.capture(prodGateway.id);
console.log(`Snapshot ${beforeSnapshot.id} captured at ${beforeSnapshot.timestamp}`);

// After changes are made, capture another snapshot
const afterSnapshot = await client.snapshots.capture(prodGateway.id);

// Diff the two snapshots
const changes = await client.snapshots.diff(beforeSnapshot.id, afterSnapshot.id);
for (const change of changes) {
  console.log(`${change.type}: ${change.path} — ${change.oldValue} → ${change.newValue}`);
}
```

<Callout type="tip">
Always capture a snapshot before and after configuration changes. This creates an audit trail that makes rollbacks trivial.
</Callout>

## Config Decomposition

Large gateway configs can be broken down into logical sections for easier management.

```typescript
const config = await client.config.decompose(prodGateway.id);

// Access individual config sections
console.log('Routing rules:', config.routing);
console.log('Rate limits:', config.rateLimiting);
console.log('Auth config:', config.auth);

// Update a specific section without touching others
await client.config.updateSection(prodGateway.id, 'rateLimiting', {
  globalRpm: 1000,
  perUserRpm: 60
});
```

## Using the CLI

For quick operations, the CLI is your best friend.

```bash
# Register a new instance
openclaw-manager register --name prod --url wss://gateway.example.com

# Capture a snapshot
openclaw-manager snapshot capture --instance prod

# List all snapshots
openclaw-manager snapshot list --instance prod

# Diff two snapshots
openclaw-manager snapshot diff --from snap_001 --to snap_002
```

## Conclusion

The OpenClaw SDK gives you structured, type-safe control over your AI gateway infrastructure. Combined with snapshots and config decomposition, you'll never lose track of what changed, when, or why.

Check out the [full documentation](https://openclaw.minions.help) for more advanced features!
